@{
    ViewData["Title"] = "Registro";
    Layout = "_LayoutEmpty";
}

<div id="app-register">
    <div class="register-container">
        <div class="register-card">
            <div class="register-header">
                <img src="/img/logo-aduanas.png" alt="DGA Logo" class="logo">
                <h1>Sistema de Gestión de Vehículos</h1>
            </div>
            <div class="register-body">
                <h2>Crear Cuenta</h2>
                <div class="alert alert-danger" v-if="error" v-cloak>{{error}}</div>
                <div class="alert alert-success" v-if="success" v-cloak>{{success}}</div>
                <form v-on:submit.prevent="register">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="nombre">Nombre</label>
                                <input type="text" id="nombre" class="form-control" v-model="user.nombre" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="apellido">Apellido</label>
                                <input type="text" id="apellido" class="form-control" v-model="user.apellido" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cargo">Cargo</label>
                        <input type="text" id="cargo" class="form-control" v-model="user.cargo" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" class="form-control" v-model="user.email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" id="password" class="form-control" v-model="user.password" required>
                        <small class="form-text text-muted">La contraseña debe tener al menos 8 caracteres, incluyendo una letra mayúscula, una minúscula, un número y un carácter especial.</small>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirmar Contraseña</label>
                        <input type="password" id="confirmPassword" class="form-control" v-model="user.confirmPassword" required>
                    </div>
                    <div class="form-group">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" v-model="acceptTerms" required>
                            <span class="custom-control-indicator"></span>
                            <span class="custom-control-description">Acepto los <a href="#">términos y condiciones</a></span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block" v-bind:disabled="loading || !acceptTerms">
                        <span v-if="loading"><i class="fas fa-spinner fa-spin"></i> Cargando...</span>
                        <span v-else>Registrarse</span>
                    </button>
                </form>
                <div class="register-footer">
                    <p>¿Ya tiene una cuenta? <a href="/Account/Login">Iniciar Sesión</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="~/js/register.js"></script>
}